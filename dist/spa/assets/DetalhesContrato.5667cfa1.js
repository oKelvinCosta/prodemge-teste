import{g as S,i as U,Q as z,e as A,p as R,q as F,r as $,h as C}from"./QBtn.74a74793.js";import{e as x,f as b,h as f,g as G,r as E,Q as T,J as _,S as q,R as s,M as o,L as i,P as u,O as y,U as I,T as N,K as H}from"./index.cf10a997.js";import{a as M,d as j}from"./format.e736b026.js";import{c as J,Q as K,b as D}from"./QTable.06682bc4.js";var P=x({name:"QBreadcrumbsEl",props:{...S,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(a,{slots:r}){const{linkTag:e,linkAttrs:t,linkClass:c,navigateOnClick:h}=U(),n=b(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(a.disable!==!0?"q-link--focusable"+c.value:"q-breadcrumbs__el--disable"),...t.value,onClick:h})),d=b(()=>"q-breadcrumbs__el-icon"+(a.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const m=[];return a.icon!==void 0&&m.push(f(z,{class:d.value,name:a.icon})),a.label!==void 0&&m.push(a.label),f(e.value,{...n.value},A(r.default,m))}}});const W=["",!0];var X=x({name:"QBreadcrumbs",props:{...R,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:a=>["none","xs","sm","md","lg","xl"].includes(a),default:"sm"}},setup(a,{slots:r}){const e=F(a),t=b(()=>`flex items-center ${e.value}${a.gutter==="none"?"":` q-gutter-${a.gutter}`}`),c=b(()=>a.separatorColor?` text-${a.separatorColor}`:""),h=b(()=>` text-${a.activeColor}`);return()=>{if(r.default===void 0)return;const n=$(C(r.default));if(n.length===0)return;let d=1;const m=[],L=n.filter(p=>p.type!==void 0&&p.type.name==="QBreadcrumbsEl").length,V=r.separator!==void 0?r.separator:()=>a.separator;return n.forEach(p=>{if(p.type!==void 0&&p.type.name==="QBreadcrumbsEl"){const k=d<L,B=p.props!==null&&W.includes(p.props.disable),O=(k===!0?"":" q-breadcrumbs--last")+(B!==!0&&k===!0?h.value:"");d++,m.push(f("div",{class:`flex items-center${O}`},[p])),k===!0&&m.push(f("div",{class:"q-breadcrumbs__separator"+c.value},V()))}else m.push(p)}),f("div",{class:"q-breadcrumbs"},[f("div",{class:t.value},m)])}}}),g=x({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(a,{slots:r}){const e=b(()=>`q-card__section q-card__section--${a.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>f(a.tag,{class:e.value},C(r.default))}}),v=x({name:"QCard",props:{...M,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(a,{slots:r}){const{proxy:{$q:e}}=G(),t=j(a,e),c=b(()=>"q-card"+(t.value===!0?" q-card--dark q-dark":"")+(a.bordered===!0?" q-card--bordered":"")+(a.square===!0?" q-card--square no-border-radius":"")+(a.flat===!0?" q-card--flat no-shadow":""));return()=>f(a.tag,{class:c.value},C(r.default))}}),Y=x({name:"QTr",props:{props:Object,noHover:Boolean},setup(a,{slots:r}){const e=b(()=>"q-tr"+(a.props===void 0||a.props.header===!0?"":" "+a.props.__trClass)+(a.noHover===!0?" q-tr--no-hover":""));return()=>f("tr",{class:e.value},C(r.default))}});const Z={class:"detalhesPage"},ee={class:"q-py-lg"},ae=s("h4",null,"Detalhes Contrato",-1),se={class:"row q-mb-lg q-gutter-md",id:"cliente"},oe={class:"q-badge q-pa-xs q-mr-md q-mt-sm"},te={class:"cliente"},ie={class:"descricao"},re=s("b",{class:"q-pr-sm"},"In\xEDcio:",-1),ce=s("b",{class:"q-pr-sm"},"Fim:",-1),le=s("div",{class:"row q-mb-sm"},[s("h6",null,"E-mail")],-1),ne={class:"row q-mb-lg q-col-gutter-lg"},de={class:"col-12 col-md-7 col-lg-8"},ue={class:"col-12 col-md-5 col-lg-4"},he=s("div",{class:"row q-mb-sm"},[s("h6",null,"Espa\xE7o Extra")],-1),pe={class:"row q-mb-lg q-col-gutter-lg"},fe={class:"col-12 col-md-12 col-lg-8"},me={class:"col-12 col-md-12 col-lg-4"},ge=s("div",{class:"row q-mb-sm"},[s("h6",null,"Videoconfer\xEAncia")],-1),ve={class:"row q-mb-lg q-col-gutter-lg"},be={class:"col-12 col-md-12 col-lg-8"},_e={class:"col-12 col-md-12 col-lg-4"},ye={class:"row q-my-xl"},xe={key:0},Ee={style:{color:"green"}},qe={key:1},Ce={style:{color:"red"}};function Q(a){let r=a;r.split("/");let e=r.split("/")[1]+"-"+r.split("/")[0];return new Date(e).getTime()}const l={red:"#cf7680",gray:"#5fc778",darkGray:"#4c4c4c"},w=[{breakpoint:1600,options:{chart:{width:350},legend:{position:"bottom"}}},{breakpoint:1440,options:{chart:{width:350},legend:{position:"bottom"}}},{breakpoint:1200,options:{chart:{width:300},legend:{position:"bottom"}}},{breakpoint:1024,options:{chart:{width:350},legend:{position:"right"}}},{breakpoint:850,options:{chart:{width:300},legend:{position:"right"}}},{breakpoint:576,options:{chart:{width:300},legend:{position:"right"}}},{breakpoint:360,options:{chart:{width:260},legend:{position:"right"}}}],Qe=Object.assign({name:"DetalhesContrato",data(){return{filter:E(""),loading:E(!1),contratoDetalhes:[],relatorios:[],chartEmailL:{series:[{name:"Uso de E-mail",data:[1]}],chartOptions:{colors:[l.red],chart:{foreColor:l.darkGray,fontFamily:"Roboto, Arial, sans-serif",height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!0},stroke:{curve:"straight"},title:{text:"Cotas de E-mail usadas",align:"left"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:["x"]}}},chartEspacoExtraL:{series:[{name:"Uso de Espa\xE7o Extra",data:[1]}],chartOptions:{colors:[l.red],chart:{foreColor:l.darkGray,fontFamily:"Roboto, Arial, sans-serif",height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!0},stroke:{curve:"straight"},title:{text:"Cotas de Espa\xE7o Extra usadas",align:"left"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:["x"]}}},chartVideoconferenciaL:{series:[{name:"Uso de Videoconferencia",data:[1]}],chartOptions:{colors:[l.red],chart:{foreColor:l.darkGray,fontFamily:"Roboto, Arial, sans-serif",height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!0},stroke:{curve:"straight"},title:{text:"Cotas de Videoconferencia usadas",align:"left"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:["x"]}}},chartEmailP:{series:[2300,8e3-2300],chartOptions:{title:{text:"Uso de Email"},colors:[l.red,l.gray],chart:{foreColor:l.darkGray,fontFamily:"Roboto, Arial, sans-serif",width:380,type:"pie"},labels:["Usado","Dispon\xEDvel"],responsive:w}},chartEspacoExtraP:{series:[50,100],chartOptions:{title:{text:"Uso de Espa\xE7o Extra"},colors:[l.red,l.gray],chart:{foreColor:l.darkGray,fontFamily:"Roboto, Arial, sans-serif",width:380,type:"pie"},labels:["Usado","Dispon\xEDvel"],responsive:w}},chartVideoconferenciaP:{series:[10,100],chartOptions:{title:{text:"Uso de Videoconferencia"},colors:[l.red,l.gray],chart:{foreColor:l.darkGray,fontFamily:"Roboto, Arial, sans-serif",width:380,type:"pie"},labels:["Usado","Dispon\xEDvel"],responsive:w}},apiContratos:{contratos:[{id:1,descricao:"Comunica\xE7\xE3o",cliente:"Prefeitura de Belo Horizonte",codCliente:"PBH01",dataAssinatura:"01/01/2024",dataFim:"01/01/2025",itens:[{descricao:"email",detalhe:"Quantidade de contas de e-mail com 1gb de armazenamento base.",cota:300},{descricao:"espaco_extra",detalhe:"Quantidade de Gigabytes extras dispon\xEDveis para aloca\xE7\xE3o em contas de e-mail.",cota:100},{descricao:"videoconferencia",detalhe:"Quantidade de contas de e-mail que podem realizar videoconfer\xEAncia.",cota:30}],relatorios:[{data:"01/2024",itens:[{descricao:"email",uso:180},{descricao:"espaco_extra",uso:20},{descricao:"videoconferencia",uso:12}]},{data:"02/2024",itens:[{descricao:"email",uso:234},{descricao:"espaco_extra",uso:27},{descricao:"videoconferencia",uso:15}]},{data:"03/2024",itens:[{descricao:"email",uso:278},{descricao:"espaco_extra",uso:33},{descricao:"videoconferencia",uso:21}]}]},{id:2,descricao:"Comunica\xE7\xE3o",cliente:"Corpo de Bombeiros de Minas Gerais",codCliente:"BOM01",dataAssinatura:"01/01/2023",dataFim:"01/01/2027",itens:[{descricao:"email",detalhe:"Quantidade de contas de e-mail com 1gb de armazenamento base.",cota:8e3},{descricao:"espaco_extra",detalhe:"Quantidade de Gigabytes extras dispon\xEDveis para aloca\xE7\xE3o em contas de e-mail.",cota:800},{descricao:"videoconferencia",detalhe:"Quantidade de contas de e-mail que podem realizar videoconfer\xEAncia.",cota:200}],relatorios:[{data:"01/2023",itens:[{descricao:"email",uso:1320},{descricao:"espaco_extra",uso:20},{descricao:"videoconferencia",uso:20}]},{data:"02/2023",itens:[{descricao:"email",uso:2475},{descricao:"espaco_extra",uso:20},{descricao:"videoconferencia",uso:20}]},{data:"03/2023",itens:[{descricao:"email",uso:3109},{descricao:"espaco_extra",uso:50},{descricao:"videoconferencia",uso:25}]},{data:"04/2023",itens:[{descricao:"email",uso:3848},{descricao:"espaco_extra",uso:62},{descricao:"videoconferencia",uso:33}]},{data:"05/2023",itens:[{descricao:"email",uso:4331},{descricao:"espaco_extra",uso:57},{descricao:"videoconferencia",uso:28}]},{data:"06/2023",itens:[{descricao:"email",uso:4126},{descricao:"espaco_extra",uso:55},{descricao:"videoconferencia",uso:26}]},{data:"07/2023",itens:[{descricao:"email",uso:4523},{descricao:"espaco_extra",uso:55},{descricao:"videoconferencia",uso:26}]},{data:"08/2023",itens:[{descricao:"email",uso:5002},{descricao:"espaco_extra",uso:58},{descricao:"videoconferencia",uso:26}]},{data:"09/2023",itens:[{descricao:"email",uso:5342},{descricao:"espaco_extra",uso:60},{descricao:"videoconferencia",uso:30}]},{data:"10/2023",itens:[{descricao:"email",uso:5597},{descricao:"espaco_extra",uso:60},{descricao:"videoconferencia",uso:30}]},{data:"11/2023",itens:[{descricao:"email",uso:5829},{descricao:"espaco_extra",uso:60},{descricao:"videoconferencia",uso:30}]},{data:"12/2023",itens:[{descricao:"email",uso:6154},{descricao:"espaco_extra",uso:60},{descricao:"videoconferencia",uso:35}]},{data:"01/2024",itens:[{descricao:"email",uso:6221},{descricao:"espaco_extra",uso:60},{descricao:"videoconferencia",uso:40}]},{data:"02/2024",itens:[{descricao:"email",uso:6358},{descricao:"espaco_extra",uso:70},{descricao:"videoconferencia",uso:40}]},{data:"03/2024",itens:[{descricao:"email",uso:6511},{descricao:"espaco_extra",uso:72},{descricao:"videoconferencia",uso:40}]}]}]},REL:[{data:"01/2024",itens:[{descricao:"email",uso:180},{descricao:"espaco_extra",uso:20},{descricao:"videoconferencia",uso:12}]}]}},async mounted(){const a=this.$route.params.id;this.getDetalhe(a)},methods:{async getDetalhe(a){await this.$axios.get(`api.prodemge.gov.br/contratos/${a}`).then(r=>{}).catch(r=>{this.loading=E(!0),setTimeout(()=>{this.loading=E(!1)},1500),this.contratoDetalhes=this.apiContratos.contratos.find(({id:t})=>t==a);let e=this.contratoDetalhes.relatorios;this.relatorios=e,this.chartEmailP.series[0]=e[e.length-1].itens[0].uso,this.chartEmailP.series[1]=this.contratoDetalhes.itens[0].cota-this.chartEmailP.series[0],this.chartEspacoExtraP.series[0]=e[e.length-1].itens[1].uso,this.chartEspacoExtraP.series[1]=this.contratoDetalhes.itens[1].cota-this.chartEspacoExtraP.series[0],this.chartVideoconferenciaP.series[0]=e[e.length-1].itens[2].uso,this.chartVideoconferenciaP.series[1]=this.contratoDetalhes.itens[2].cota-this.chartVideoconferenciaP.series[0];for(let t=0;t<e.length;t++)this.chartEmailL.chartOptions.xaxis.categories[t]=e[t].data,this.chartEspacoExtraL.chartOptions.xaxis.categories[t]=e[t].data,this.chartVideoconferenciaL.chartOptions.xaxis.categories[t]=e[t].data,this.chartEmailL.series[0].data[t]=e[t].itens.find(({descricao:c})=>c=="email").uso,this.chartEspacoExtraL.series[0].data[t]=e[t].itens.find(({descricao:c})=>c=="espaco_extra").uso,this.chartVideoconferenciaL.series[0].data[t]=e[t].itens.find(({descricao:c})=>c=="videoconferencia").uso})}}},{__name:"DetalhesContrato",setup(a){const r=[{name:"data",label:"Data",align:"center",field:"data",sortable:!0,sort:(e,t)=>Q(e)-Q(t)},{name:"email",label:"Uso E-mail",align:"center",field:"email",sortable:!0},{name:"espaco_extra",label:"Uso Espa\xE7o Extra",align:"center",field:"espaco_extra",sortable:!0},{name:"videoconferencia",label:"Uso de Videoconfer\xEAncia",align:"center",field:"videoconferencia",sortable:!0}];return(e,t)=>{const c=T("apexchart");return _(),q("div",Z,[s("div",ee,[o(X,null,{default:i(()=>[o(P,{icon:"home",to:"/",label:"In\xEDcio"}),o(P,{label:"Detalhes"})]),_:1})]),ae,s("div",se,[s("div",null,[o(v,{flat:"",bordered:""},{default:i(()=>[o(g,{class:"info_cliente q-pa-lg"},{default:i(()=>[s("div",null,[s("div",oe,u(e.contratoDetalhes.codCliente),1)]),s("div",null,[s("div",te,[s("h6",null,u(e.contratoDetalhes.cliente),1)]),s("div",ie,u(e.contratoDetalhes.descricao),1)])]),_:1})]),_:1})]),s("div",null,[o(v,{flat:"",bordered:""},{default:i(()=>[o(g,{class:"q-pa-lg"},{default:i(()=>[s("div",null,[re,y(u(e.contratoDetalhes.dataAssinatura),1)]),s("div",null,[ce,y(u(e.contratoDetalhes.dataFim),1)])]),_:1})]),_:1})])]),s("div",null,[le,s("div",ne,[s("div",de,[o(v,{flat:"",bordered:""},{default:i(()=>[o(g,{class:"q-pt-lg"},{default:i(()=>[o(c,{type:"line",height:"350",options:e.chartEmailL.chartOptions,series:e.chartEmailL.series},null,8,["options","series"])]),_:1})]),_:1})]),s("div",ue,[o(v,{flat:"",bordered:""},{default:i(()=>[o(g,{class:"q-pt-lg"},{default:i(()=>[o(c,{type:"pie",width:"380",options:e.chartEmailP.chartOptions,series:e.chartEmailP.series},null,8,["options","series"])]),_:1})]),_:1})])])]),s("div",null,[he,s("div",pe,[s("div",fe,[o(v,{flat:"",bordered:""},{default:i(()=>[o(g,{class:"q-pt-lg"},{default:i(()=>[o(c,{type:"line",height:"350",options:e.chartEspacoExtraL.chartOptions,series:e.chartEspacoExtraL.series},null,8,["options","series"])]),_:1})]),_:1})]),s("div",me,[o(v,{flat:"",bordered:""},{default:i(()=>[o(g,{class:"q-pt-lg"},{default:i(()=>[o(c,{type:"pie",width:"350",options:e.chartEspacoExtraP.chartOptions,series:e.chartEspacoExtraP.series},null,8,["options","series"])]),_:1})]),_:1})])])]),s("div",null,[ge,s("div",ve,[s("div",be,[o(v,{flat:"",bordered:""},{default:i(()=>[o(g,{class:"q-pt-lg"},{default:i(()=>[o(c,{type:"line",height:"350",options:e.chartVideoconferenciaL.chartOptions,series:e.chartVideoconferenciaL.series},null,8,["options","series"])]),_:1})]),_:1})]),s("div",_e,[o(v,{flat:"",bordered:""},{default:i(()=>[o(g,{class:"q-pt-lg"},{default:i(()=>[o(c,{type:"pie",width:"350",options:e.chartVideoconferenciaP.chartOptions,series:e.chartVideoconferenciaP.series},null,8,["options","series"])]),_:1})]),_:1})])])]),s("div",null,[s("div",ye,[o(J,{class:"col",flat:"",bordered:"",title:"Relat\xF3rios",rows:e.relatorios,columns:r,"row-key":"data",filter:e.filter,loading:e.loading},{loading:i(()=>[o(K,{showing:"",color:"primary"})]),body:i(h=>[o(Y,{props:h},{default:i(()=>[o(D,{key:"data",props:h},{default:i(()=>[y(u(h.row.data),1)]),_:2},1032,["props"]),(_(!0),q(I,null,N(h.row.itens,n=>(_(),H(D,{key:n.descricao,props:h},{default:i(()=>[e.contratoDetalhes.itens.find(({descricao:d})=>d==n.descricao).cota-n.uso>1?(_(),q("span",xe,[s("b",Ee,u(n.uso),1),y("/"+u(e.contratoDetalhes.itens.find(({descricao:d})=>d==n.descricao).cota),1)])):(_(),q("span",qe,[s("b",Ce,u(n.uso),1),y("/"+u(e.contratoDetalhes.itens.find(({descricao:d})=>d==n.descricao).cota),1)]))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","filter","loading"])])])])}}});export{Qe as default};
