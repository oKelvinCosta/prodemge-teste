import{Q as C,a as _,b as m,c as x}from"./QTable.06682bc4.js";import{Q as y}from"./QBadge.e70dba20.js";import{h as Q,f as F}from"./QBtn.74a74793.js";import{e as w,k as g,m as n,p as P,F as B,f as h,h as z,g as $,r,Q as q,J as H,K as L,L as s,M as t,W as k,R as l,P as I}from"./index.cf10a997.js";import"./format.e736b026.js";var A=w({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(i,{slots:c}){const{proxy:{$q:e}}=$(),a=g(P,n);if(a===n)return console.error("QPage needs to be a deep child of QLayout"),n;if(g(B,n)===n)return console.error("QPage needs to be child of QPageContainer"),n;const o=h(()=>{const d=(a.header.space===!0?a.header.size:0)+(a.footer.space===!0?a.footer.size:0);if(typeof i.styleFn=="function"){const b=a.isContainer.value===!0?a.containerHeight.value:e.screen.height;return i.styleFn(d,b)}return{minHeight:a.isContainer.value===!0?a.containerHeight.value-d+"px":e.screen.height===0?d!==0?`calc(100vh - ${d}px)`:"100vh":e.screen.height-d+"px"}}),v=h(()=>`q-page${i.padding===!0?" q-layout-padding":""}`);return()=>z("main",{class:v.value,style:o.value},Q(c.default))}});const M=l("div",{class:"row"},[l("h4",null,"P\xE1gina Inicial")],-1),O={class:"my-table-details"};var f=[],p=r(f);const R=r(!1),V=r(!1),j=Object.assign({name:"IndexPage",data(){return{visible:R,showSimulatedReturnData:V,filter:r(""),loading:r(!1),rows:[],detalhePage:"/detalhes/",options:p,filterFn(i,c,e){c(()=>{const a=i.toLowerCase();p.value=f.filter(u=>u.toLowerCase().indexOf(a)>-1)})},apiClientes:{clientes:[{id:1,nome:"Prefeitura de Belo Horizonte",codCliente:"PBH01"},{id:2,nome:"Corpo de Bombeiros de Minas Gerais",codCliente:"BOM01"}]},apiContratos:{contratos:[{id:1,descricao:"Comunica\xE7\xE3o",cliente:"Prefeitura de Belo Horizonte",codCliente:"PBH01",dataAssinatura:"01/01/2024",dataFim:"01/01/2025",itens:[{descricao:"email",detalhe:"Quantidade de contas de e-mail com 1gb de armazenamento base.",cota:300},{descricao:"espaco_extra",detalhe:"Quantidade de Gigabytes extras dispon\xEDveis para aloca\xE7\xE3o em contas de e-mail.",cota:100},{descricao:"videoconferencia",detalhe:"Quantidade de contas de e-mail que podem realizar videoconfer\xEAncia.",cota:30}],relatorios:[{data:"01/2024",itens:[{descricao:"email",uso:180},{descricao:"espaco_extra",uso:20},{descricao:"videoconferencia",uso:12}]},{data:"02/2024",itens:[{descricao:"email",uso:234},{descricao:"espaco_extra",uso:27},{descricao:"videoconferencia",uso:15}]},{data:"03/2024",itens:[{descricao:"email",uso:278},{descricao:"espaco_extra",uso:33},{descricao:"videoconferencia",uso:21}]}]},{id:2,descricao:"Comunica\xE7\xE3o",cliente:"Corpo de Bombeiros de Minas Gerais",codCliente:"BOM01",dataAssinatura:"01/01/2023",dataFim:"01/01/2027",itens:[{descricao:"email",detalhe:"Quantidade de contas de e-mail com 1gb de armazenamento base.",cota:8e3},{descricao:"espaco_extra",detalhe:"Quantidade de Gigabytes extras dispon\xEDveis para aloca\xE7\xE3o em contas de e-mail.",cota:800},{descricao:"videoconferencia",detalhe:"Quantidade de contas de e-mail que podem realizar videoconfer\xEAncia.",cota:200}],relatorios:[{data:"01/2023",itens:[{descricao:"email",uso:1320},{descricao:"espaco_extra",uso:20},{descricao:"videoconferencia",uso:20}]},{data:"02/2023",itens:[{descricao:"email",uso:2475},{descricao:"espaco_extra",uso:20},{descricao:"videoconferencia",uso:20}]},{data:"03/2023",itens:[{descricao:"email",uso:3109},{descricao:"espaco_extra",uso:50},{descricao:"videoconferencia",uso:25}]},{data:"04/2023",itens:[{descricao:"email",uso:3848},{descricao:"espaco_extra",uso:62},{descricao:"videoconferencia",uso:33}]},{data:"05/2023",itens:[{descricao:"email",uso:4331},{descricao:"espaco_extra",uso:57},{descricao:"videoconferencia",uso:28}]},{data:"06/2023",itens:[{descricao:"email",uso:4126},{descricao:"espaco_extra",uso:55},{descricao:"videoconferencia",uso:26}]},{data:"07/2023",itens:[{descricao:"email",uso:4523},{descricao:"espaco_extra",uso:55},{descricao:"videoconferencia",uso:26}]},{data:"08/2023",itens:[{descricao:"email",uso:5002},{descricao:"espaco_extra",uso:58},{descricao:"videoconferencia",uso:26}]},{data:"09/2023",itens:[{descricao:"email",uso:5342},{descricao:"espaco_extra",uso:60},{descricao:"videoconferencia",uso:30}]},{data:"10/2023",itens:[{descricao:"email",uso:5597},{descricao:"espaco_extra",uso:60},{descricao:"videoconferencia",uso:30}]},{data:"11/2023",itens:[{descricao:"email",uso:5829},{descricao:"espaco_extra",uso:60},{descricao:"videoconferencia",uso:30}]},{data:"12/2023",itens:[{descricao:"email",uso:6154},{descricao:"espaco_extra",uso:60},{descricao:"videoconferencia",uso:35}]},{data:"01/2024",itens:[{descricao:"email",uso:6221},{descricao:"espaco_extra",uso:60},{descricao:"videoconferencia",uso:40}]},{data:"02/2024",itens:[{descricao:"email",uso:6358},{descricao:"espaco_extra",uso:70},{descricao:"videoconferencia",uso:40}]},{data:"03/2024",itens:[{descricao:"email",uso:6511},{descricao:"espaco_extra",uso:72},{descricao:"videoconferencia",uso:40}]}]}]}}},mounted(){this.loading=r(!0),setTimeout(()=>{this.loading=r(!1),this.getContrato(),this.getClientes()},1500)},methods:{clearFilter(){this.filter=""},getClientes(){this.$axios.get("api.prodemge.gov.br/clientes").then(i=>{}).catch(i=>{this.apiClientes.clientes.map(function(c,e){f[e]=c.nome})})},getContrato(){this.$axios.get("api.prodemge.gov.br/contratos").then(i=>{}).catch(i=>{this.rows=this.apiContratos.contratos})}}},{__name:"IndexPage",setup(i){const c=[{name:"codCliente",label:"C\xF3digo",align:"left",field:"codCliente",sortable:!0},{name:"cliente",label:"Cliente",align:"left",field:"cliente",sortable:!0},{name:"descricao",label:"Descri\xE7\xE3o",align:"left",field:"descricao"},{name:"dataAssinatura",label:"In\xEDcio",align:"center",field:"dataAssinatura",sortable:!0},{name:"dataFim",label:"Fim",align:"center",field:"dataFim",sortable:!0},{name:"action",label:"A\xE7\xE3o",align:"center"}];return(e,a)=>{const u=q("RouterLink");return H(),L(A,{class:"index"},{default:s(()=>[M,t(x,{flat:"",bordered:"",title:"Contratos",rows:e.rows,columns:c,"row-key":"codCliente",filter:e.filter,loading:e.loading},{loading:s(()=>[t(C,{showing:"",color:"primary"})]),"top-right":s(()=>[t(_,{outlined:"",dense:"",label:"Filtrar por Cliente",modelValue:e.filter,"onUpdate:modelValue":a[0]||(a[0]=o=>e.filter=o),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:k(p),onFilter:e.filterFn,style:{"max-width":"300px",width:"100%"},clearable:"",onClear:e.clearFilter},null,8,["modelValue","options","onFilter","onClear"])]),"body-cell-codCliente":s(o=>[t(m,{props:o},{default:s(()=>[l("div",null,[t(y,{label:o.row.codCliente},null,8,["label"])])]),_:2},1032,["props"])]),"body-cell-cliente":s(o=>[t(m,{props:o},{default:s(()=>[l("div",O,[l("b",null,I(o.row.cliente),1)])]),_:2},1032,["props"])]),"body-cell-action":s(o=>[t(m,{props:o},{default:s(()=>[t(u,{to:e.detalhePage+o.row.id},{default:s(()=>[t(F,{outline:"",dense:"",color:"primary",icon:"poll",label:"detalhes",class:"q-pl-sm q-pr-sm"})]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","filter","loading"])]),_:1})}}});export{j as default};
